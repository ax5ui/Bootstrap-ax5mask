"use strict";!function(t,n){var s=ax5.util,i=function(){var t,i=this;n&&n.call(this),this.maskContent="",this.status="off",this.config={theme:"",target:jQuery(document.body).get(0)},t=this.config;var e=function(t,n){return t&&t.onStateChanged?t.onStateChanged.call(n,n):this.onStateChanged&&this.onStateChanged.call(n,n),!0},a=function(){return'\n                <div class="ax-mask {{theme}}" id="{{maskId}}">\n                    <div class="ax-mask-bg"></div>\n                    <div class="ax-mask-content">\n                        <div class="ax-mask-body">\n                        {{{body}}}\n                        </div>\n                    </div>\n                </div>\n                '},o=function(t){this.maskContent=t};this.init=function(){this.onStateChanged=t.onStateChanged,this.onClick=t.onClick,this.config.content&&o.call(this,this.config.content)},this.open=function(t){"on"===this.status&&this.close(),t&&t.content&&o.call(this,t.content),i.maskConfig={},jQuery.extend(!0,i.maskConfig,this.config,t);var n,s,h=i.maskConfig,c=h.target,u=jQuery(c),l="ax-mask-"+ax5.getGuid(),n={},d={};return jQuery(document.body).append(ax5.mustache.render(a(),{theme:h.theme,maskId:l,body:this.maskContent})),c&&c!==jQuery(document.body).get(0)&&(n={position:h.position||"absolute",left:u.offset().left,top:u.offset().top,width:u.outerWidth(),height:u.outerHeight()},"undefined"!=typeof i.maskConfig.zIndex&&(n["z-index"]=i.maskConfig.zIndex),u.addClass("ax-masking")),this.$mask=s=jQuery("#"+l),this.$target=u,this.status="on",s.css(n),this.onClick&&s.click(function(){d={self:this,state:"open",type:"click"},this.onClick.call(d,d)}),e.call(this,null,{self:this,state:"open"}),this},this.close=function(){return this.$mask.remove(),this.$target.removeClass("ax-masking"),e.call(this,null,{self:this,state:"close"}),this},this.main=function(){arguments&&s.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};t.mask=function(){return s.isFunction(n)&&(i.prototype=new n),i}()}(ax5.ui,ax5.ui.root);